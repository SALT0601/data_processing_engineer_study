경로 제어 / 트래픽 제어

경로 제어(Routing)
- 송수신 측 간 전송 경로 중 최적 패킷 교환 경로를 결정하는 기능
- 경로 제어표를 탐조해서 이루어지고 라우터에 의해 수행
- 경로 제어 요소 : 성능 기준, 경로의 결정 시간과 장소, 정보 발생지, 경로 정보의 갱신 시간

경로 제어 프로토콜
- IGP(내부 게이트웨이 프로토콜) : 하나의 자율 시스템(AS- 하나의 도메인에 속하는 라우터들의 집합) 내의 라우팅에 사용
-> RIP = 거리 벡터 라우팅 프로토콜 : 현재 가장 널리 사용되는 라우팅 프로토콜, 최단 경로 탐색에 Bellman-Ford 알고리즘 사용
			         : 소규모 동종의 네트워크 내에서 효율적인 방법
			         : 최대 홉(네트워크 수) 수를 15로 제한해 15 이상의 경우는 도달할 수 없는 네트워크를 의미하고 이것은 대규모 네트워크에선 RIP 사용 못함을 의미
			         : 라우팅 정보를 30초마다ㅏ 네트워크 내의 모든 라우터에 알리며 180초ㅗ 이내에 새로운 라우팅 정보 수신되지 않으면 해당 경로를 이상 상태로 간주함
-> OSPF : RIP 단점을 해결하여 새로운 기능을 지원하는 인터넷 프로토콜, 대규모 네트워크에서 사용
            : 인터넷 망에서 이용자가 최단 경로를 선정할 수 있게 라우팅 정보에 노드 간 거리정보, 링크 상태 정보를 실시간으로 반영해 최단 경로로 라우팅 지원
	: 최단 경로 탐색에 다익스트라 알고리즘 사용
            : 라우팅 정보에 변화 생기면 변화된 정보만 네트워크 내 모든 라우터에 알림
	: 하나의 자율 시스템에서 동작하면서 내부 라우팅 프로토콜의 그룹에 도달
- EGP(외부 게이트웨이 프로토콜) : 자율 시스템 간의 라우팅, 즉 게이트웨이 간의 라우팅에 사용
- BGP(Border Gateway Protocol) : 자율 시스템 간의 라우팅 프로토콜, EGP의 단점 보완
			     : 초기에 BGP 라우터들이 연결될 때 전체 경로 제어표를 교환하고 이후에 변화된 정보만 교환

트래픽 제어
- 전송되는 패킷의 흐름, 그 양 조절하는 기능
- 종류 : 흐름 제어, 폭주(혼합) 제어, 교착상태 방지

흐름 제어(송수신 속도 조절)
- 송수신 측 사이에 전송되는 패킷의 양이나 속도 규제 
- 정지-대기 : 수신 측의 확인 신호(ACK)를 받은 후 다음 패킷 전송, 한번에 하나의 패킷만 전송
- 슬라이딩 윈도우 : 확인 신호 이용해 송신 데이터 양 조절
		: 확인 신호 받지 않더라도 미리 정해진 패킷의 수만큼 연속적으로 전송하는 방식, 한번에 여러개 패킷 전송 가능해 전송 효율 좋음
		: 송신 측은 수신 측으로부터 확인 신호 없이도 보낼 수 있는 패킷의 최대치를 미리 약속 받는데 이 패킷의 최대치가 윈도우 크기를 의미
		: 윈도우 크기는 상황에 따라 변함, 이전에 송신한 패킷에 대한 긍정 수신 응답(ACK)이 전달되면 윈도우 크기 증가, 주정 수신 응답(NAK) 전달되면 크기 감소

폭주 제어(송신 속도 조절)
- 네트워크 내 패킷 수를 조절해 네트워크의 오버플로 방지
- 느린 시작 : 윈도우 크기를 1, 2, 4, 8 과 같이 2배씩 지수적으로 증가시켜 초기에는 느리지만 갈수 록 빨라짐
	   : 전송 데이터의 크기가 임계값에 도달하면 혼잡 회피 단계로 넘어감
- 혼잡 회피 : 회피를 위해 윈도우의 크기를 1씩 선형적으로 증가시켜 혼잡 예방





