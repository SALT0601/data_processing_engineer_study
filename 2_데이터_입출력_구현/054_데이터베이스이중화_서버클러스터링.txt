데이터베이스 이중화/서버 클러스터링

데이터베이스 이중화
- 서비스 중단, 물리적 손상 발생 시 복구를 위해 동일한 데이터베이스를 복제하여 관리하는 것
- 하나 이상의 데이터베이스가 항상 같은 상태 유지, 문제 발생하면 복제된 데이터베이스를 이용해 즉시 문제해결
- 사용자가 수행하는 작업은 데이터베이스 이중화 시스템에 연결된 다른 데이터베이스에도 동일하게 적용
- 애플리케이션 여러 개의 데이터베이스에서 분산처리 -> 데이터베이스 부하 줄임
- 손쉽게 백업서버 운영

데이터베이스 이중화의 분류
- Eager 기법 : 트랜잭션 수행 중 데이터 변경 발생하면 이중화된 모든 데이터베이스에 즉시 전달해 변경 내용 즉시 적용
- Lazy 기법 : 트랜잭션 수행 종료되면 변경 사실을 새 트랜잭션에 작성해 각 데이터베이스에 전달 -> 데이터베이스마다 새 트랜잭션이 수행되는 것으로 간주

데이터베이스 이중화 구성 방법
- 활동-대기
-> 한 DB가 활성 상태로 서비스하고 있으면 다른 DB는 대기하고 있다가 활성 DB에 장애 발생 시 대기 상태에 있던 DB가 자동으로 모든 서비스 대ㅣㅅㄴ 수행
    구성 방법과 괸리 쉬워 많은 기업에서 이용
- 활동-활동
-> 두개의 DB가 서로 다른 서비스 제공, 둘 중 한쪽 DB에 문제 생길 시 나머지 다른 DB가 서비스 제공
    두 DB 모두 처리해 처리율 높지만 구성 방법 및 설정 복잡

클러스터링
- 두 대 이상의 서버를 하나의 서버처럼 운영하는 기술
- 서버 이중화 및 공유 스토리지를 사용해 서버의 고가용성(시스템을 오랜시간동안 계속해서 정상적으로 운영이 가능한 성질)을 제공
- 종류
-> 고가용성 클러스터링 : 하나의 서버에 장애 발생 -> 다른 노드(서버)가 받아 처리하여 서비스 중단 방지, 일반적으로 언급되는 클러스터링
    병렬 처리 클러스터링 : 전체 처리율 높이기 위해 하나의 작업을 여러 서버에 분산하여 처리

RTO/RPO
- RTO(Recovery Time Objective, 목표 복구 시간) : 비상사태 또는 업무 중단 시점으로부터 복구되어 가동될 때까지의 소요 시간 (장애 발생 후 6시간 내 복구 가능) -> 얼마나 빨리 복구
- RPO(Recovery Point Objective, 목표 복구 시점) : 비상사태 또는 업무 중단 시점으로부터 데이터를 복구할 수 있는 기준점 (장애 발생 전 지난 주 금요일에 백업 시켜 둔 복원 시점으로 복구 가능) -> 얼마나 복구